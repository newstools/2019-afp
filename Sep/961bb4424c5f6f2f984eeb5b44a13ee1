Pro-Kremlin candidates suffered major losses in a Moscow city election, results showed Monday, following a police crackdown on a wave of anti-government protests over the summer. But President Vladimir Putin's spokesman Dmitry Peskov played down the losses, pointing to other local and regional elections across Russia on Sunday in which the ruling party was "very successful". Demonstrations broke out in the capital after top opposition figures were barred from standing in the city vote, but they widened in scope after a harsh response from authorities. Kremlin-backed candidates previously held 38 of the Moscow assembly's 45 seats, but after voting that was down to 25. Opposition leader Alexei Navalny, who called the first summer protests after his allies were kept off the ballot paper, put the losses down to his "Smart Voting" plan. The campaign called on Muscovites to back the politician, most likely to beat a pro-Kremlin candidate, whatever their affiliation. The beneficiaries were the Communist Party -- which took 13 seats, up from five -- as well as the liberal Yabloko party and the left-leaning Just Russia, which each won three. The shake-up in the city parliament comes amid a stagnating economy, declining living standards and a fall in President Vladimir Putin's approval ratings. "We fought for this together. Thanks to everyone for their contribution," Navalny said on Twitter following the Moscow results. Lyubov Sobol, who emerged as a protest leader after she was blocked from running in the election, said the vote would go "down in history thanks to the courage and perseverance of Muscovites, and the cowardice and meanness" of the city administration. Moscow Mayor Sergei Sobyanin, a close ally of Putin, said the polls were "emotional and genuinely competitive", adding that greater diversity would be "useful" for the city's parliament. - Collapse in popularity - The head of the ruling United Russia party's Moscow branch, Andrei Metelsky, lost his re-election bid to a Communist Party candidate. "People vote with their hearts, not their heads," he told Russian media as he conceded. United Russia, formed in 2001 to support Putin, has seen its popularity collapse in recent years. In Moscow, none of the pro-Kremlin candidates ran under its banner, instead presenting themselves as "independents". Kremlin-backed candidates meanwhile won in all 16 regions where there were elections for governor. Alexander Beglov, the gaffe-prone acting governor of Saint Petersburg, was elected to lead Russia's second city after his main rival controversially withdrew a week before the vote. Activists alleged irregularities at polling stations across the country, while videos emerged on social media of ballot stuffing in Saint Petersburg and elsewhere. The Kremlin also saw an upset in the far eastern city of Khabarovsk, where the nationalist LDPR party took a majority in the city council. The region already has an LDPR governor. Tens of thousands of people have taken to the streets of Moscow over the last few months calling for free and fair elections. Police detained several thousand and while most were released quickly, some faced serious charges. In the week before the election, five were sentenced to two to four years in jail. On election day, police detained several protest figures including Maria Alyokhina of political punk group Pussy Riot and Ilya Azar, a journalist and city councillor. The results came as the United Nations rights chief urged an investigation into excessive use of force by Russian police in response to the protests. Analysts described the local vote as a test ahead of national parliamentary elections due in 2021 -- both of the opposition's ability to mobilise support and the authorities' willingness to tolerate dissent.