Stan Wawrinka scored an emotional win over Frances Tiafoe 6-3, 3-6, 7-5 on Thursday to set up a quarter-final with compatriot and close friend Roger Federer at the ATP Swiss Indoors. The struggle, which lasted for two and a half hours and was decided by an 11-minute concluding game, put the three-time Grand Slam champion into his fifth quarter-final at the Swiss tournament. Top seed Federer, who booked his last-eight place 24 hours earlier, will go into the quarter-final as the comfortable favourite, holding a 23-3 stranglehold over his fellow Swiss in their 14-year rivalry. In the pair's only previous meeting in Basel, Federer won 7-6, 6-2 in the 2011 semi-finals. "We always have battles but Roger is certainly the favourite," Wawrinka said of the nine-time Basel champion who will be seeking his 50th win of 2019 on Friday. "Despite my record, it's always a pleasure to play him, but it's always difficult." Wawrinka kept his outside hopes of reaching the year-ending ATP Finals London alive with his victory in a first-time meeting with Tiafoe. The 34-year-old hammered 14 aces -- his last two in the penultimate game. Tiafoe saved a Wawrinka match point with an ace of his own in the final game before the home favourite got the crowd on its feet with a backhand winner down the line to seal the hard-fought success. Both players hugged at the net, with Tiafoe receiving a standing ovation from the 9,000-strong crowd. "It was a very difficult match, we both played so well," Wawrinka said. "I had to really raise my level, Frances put up a huge fight." Stefanos Tsitsipas reached his 13th quarter-final of the year when he came back to claim a 6-7 (4/7), 6-2, 6-4 win over Lithuanian qualifier Ricardas Berankis. The Greek third seed will next face Italian fifth seed Fabio Fognini or Filip Krajinovic of Serbia for a semi-final spot. Tsitsipas said he didn't panic after losing the opening set to his 70th-ranked opponent in 52 minutes. "He was giving me a hard time in the first set, it was not easy to overcome, we had a high-quality match," said Tsitsipas, the world number seven. "I managed to remain calm and not rush too much," the number seven said after reaching his 13th quarter-final of 2019. "I knew things would work out, I was able to break twice in the second set and once more in the third. I was serving well and that took some of the extra pressure away. "Sometimes it's tough to manage the energy. But getting angry sometimes can actually help. It can give you an extra reason to fight." The ATP Finals' hopes of David Goffin stalled as the sixth seed lost to Reilly Opelka 6-7 (4/7), 7-6 (7/4), 7-5, with the young American sending down 29 aces in two and a half hours. Goffin stands provisional tenth in the race to the eight-man season wrap-up with a final points-earning chance next week at the Paris Masters. Rafael Nadal, Novak Djokovic, Federer, Daniil Medvedev, Dominic Thiem and Tsitsipas have already booked their places in the ATP Finals, leaving just two places available. Roberto Bautista Agut, who sits one spot away from a London invitation, stayed in the chase as he defeated France's Richard Gasquet 6-2, 4-6, 6-3 and will next play Opelka. The Spaniard claimed his 40th victory of the season as he works to become a first-time qualifier into the season showpiece in London which starts on November 10.